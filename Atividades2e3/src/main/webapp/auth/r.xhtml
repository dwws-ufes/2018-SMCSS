<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:p="http://primefaces.org/ui"
  xmlns:adm="http://github.com/adminfaces"
  template="/WEB-INF/templates/template.xhtml">

  <ui:define name="title">
    <h:outputText value="#{msgs['login.title']}" />
  </ui:define>

  <ui:define name="description">
    <h:outputText value="#{msgs['login.description']}" />
  </ui:define>

  <ui:define name="body">
    <h:form id="entitiesForm">
      <div>
        <h:outputText id="message" value="#{msgsAuth[registerController.message]}"
          rendered="#{not empty registerController.message}" />
      </div>
      <p:panelGrid columns="2"
        columnClasses="ui-grid-col-4,ui-grid-col-8" layout="grid"
        styleClass="ui-panelgrid-blank">
        <p:outputLabel for="emailField" value="#{msgsAuth['auth.field.email']}" />
        <p:inputText id="emailField"
          value="#{registerController.solicitacao.login}" required="true" readonly="true"
          style="width: 100%;" />
        <p:outputLabel for="passwordField" value="#{msgsAuth['auth.field.password']}" />
        <p:password id="passwordField" match="passwordConfirmationField"
          value="#{registerController.password}" required="true"
          feedback="true"
          promptLabel="#{msgs['primefaces.password.prompt']}"
          weakLabel="#{msgs['primefaces.password.weak']}"
          goodLabel="#{msgs['primefaces.password.good']}"
          strongLabel="#{msgs['primefaces.password.strong']}"
          style="width: 100%;" />
        <p:outputLabel for="passwordConfirmationField" value="#{msgsAuth['auth.field.passwordConfirmation']}" />
        <p:password id="passwordConfirmationField"
          value="#{registerController.password}" required="true"
          style="width: 100%;" />
      </p:panelGrid>
      <h:inputHidden id="tokenField" value="#{registerController.token}"/>
      <p:commandButton id="createButton"
        value="#{msgsAuth['auth.register.submit']}" icon="fa fa-save"
        action="#{registerController.createUser}" update="@form"/>
      <p:defaultCommand target="createButton" rendered="#{registerController.criacao}"/>
    </h:form>
  </ui:define>
</ui:composition>